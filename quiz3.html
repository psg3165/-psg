<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>한글 사자성어 퀴즈</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; text-align: center; }
    h1 { color: #333; }
    button { margin: 10px; padding: 10px 20px; font-size: 16px; }
    #result { margin-top: 15px; font-weight: bold; }
    #wrongList { margin-top: 20px; color: red; }
  </style>
</head>
<body>
  <h1>한글 사자성어 퀴즈</h1>
  <p id="question">퀴즈를 시작하세요!</p>

  <!-- 보기 버튼 -->
  <button id="btn1"></button>
  <button id="btn2"></button>
  <button id="btn3"></button>
  <button id="btn4"></button>

  <p id="result"></p>
  <button id="nextBtn">다음 문제</button>
  <button id="retryBtn">틀린 문제만 다시 풀기</button>

  <h2>틀린 문제 목록</h2>
  <ul id="wrongList"></ul>

  <script>
    // 사자성어 데이터 (한글 + 뜻)
    const 사자성어목록 = [
      {word:"각골지통", meaning:"뼈에 사무치는 고통"},
      {word:"감언이설", meaning:"달콤한 말로 남을 속임"},
      {word:"개과천선", meaning:"잘못을 고치고 선하게 됨"},
      {word:"결초보은", meaning:"죽어서도 은혜를 갚음"},
      {word:"경국지색", meaning:"나라를 위태롭게 할 만큼의 미인"},
      {word:"고진감래", meaning:"쓴 것이 다하면 단 것이 옴"},
      {word:"과유불급", meaning:"지나침은 부족함만 못함"},
      {word:"교언영색", meaning:"말과 얼굴로 남을 속임"},
      {word:"구사일생", meaning:"죽을 뻔하다가 살아남"},
      {word:"군계일학", meaning:"여럿 중 뛰어난 한 사람"},
      {word:"권선징악", meaning:"선을 권하고 악을 벌함"},
      {word:"금과옥조", meaning:"귀중하게 지켜야 할 법칙이나 글"},
      {word:"금상첨화", meaning:"좋은 일에 더 좋은 일이 겹침"},
      {word:"기사회생", meaning:"위기에서 회생함"},
      {word:"남존여비", meaning:"남자를 높이고 여자를 낮춤"},
      {word:"노심초사", meaning:"몹시 마음을 쓰고 근심함"},
      {word:"독수공방", meaning:"홀로 어려운 일을 겪음"},
      {word:"동고동락", meaning:"같이 고생하고 같이 즐김"},
      {word:"동문서답", meaning:"질문과 엉뚱한 대답"},
      {word:"동병상련", meaning:"서로 비슷한 처지끼리 마음이 통함"},
      {word:"명약관화", meaning:"밝은 약이 불을 보듯 분명함"},
      {word:"무위도식", meaning:"아무 일도 하지 않고 먹고만 삶"},
      {word:"박장대소", meaning:"손바닥을 치며 크게 웃음"},
      {word:"반신반의", meaning:"반은 믿고 반은 의심함"},
      {word:"반포지효", meaning:"자식이 부모에게 효도함"},
      {word:"부화뇌동", meaning:"남이 하는 대로 따라 함"},
      {word:"비일비재", meaning:"한두 번이 아니고 많음"},
      {word:"사면초가", meaning:"사방이 적으로 막힘"},
      {word:"삼순구식", meaning:"한 달에 아홉 끼밖에 먹지 못함"},
      {word:"새옹지마", meaning:"인생의 길흉화복은 예측할 수 없음"},
      {word:"소탐대실", meaning:"작은 것을 탐하다 큰 것을 잃음"},
      {word:"속수무책", meaning:"속수무책으로 어찌할 방법이 없음"},
      {word:"십시일반", meaning:"여러 사람이 조금씩 도움"},
      {word:"십중팔구", meaning:"거의 대부분"},
      {word:"약육강식", meaning:"강한 자가 약한 자를 먹음"},
      {word:"역지사지", meaning:"입장을 바꾸어 생각함"},
      {word:"오리무중", meaning:"아무것도 알 수 없음"},
      {word:"오비이락", meaning:"우연한 일이 겹쳐 의심받음"},
      {word:"온고지신", meaning:"옛 것을 익히고 새 것을 앎"},
      {word:"우공이산", meaning:"꾸준히 노력하면 이룸"},
      {word:"유비무환", meaning:"준비가 있으면 근심이 없음"},
      {word:"이구동성", meaning:"여럿이 같은 의견을 말함"},
      {word:"이실직고", meaning:"실수를 솔직히 고침"},
      {word:"인과응보", meaning:"원인에 따라 결과가 옴"},
      {word:"인산인해", meaning:"사람이 매우 많음"},
      {word:"일석이조", meaning:"하나로 두 가지 이익을 얻음"},
      {word:"일취월장", meaning:"날로 발전함"},
      {word:"일편단심", meaning:"한결같은 마음"},
      {word:"자문자답", meaning:"스스로 묻고 답함"},
      {word:"자초지종", meaning:"처음부터 끝까지 사정"},
      {word:"적반하장", meaning:"잘못한 사람이 오히려 화냄"},
      {word:"전광석화", meaning:"아주 빠르게 일어남"},
      {word:"전무후무", meaning:"이전에도 이후에도 없음"},
      {word:"전인미답", meaning:"아무도 시도하지 않음"},
      {word:"전전긍긍", meaning:"두려워 벌벌 떨며 기다림"},
      {word:"전화위복", meaning:"화가 바뀌어 복이 됨"},
      {word:"절체절명", meaning:"목숨이 위태로운 상태"},
      {word:"조삼모사", meaning:"간사하게 속여 이득을 취함"},
      {word:"죽마고우", meaning:"어릴 적부터 친한 친구"},
      {word:"중구난방", meaning:"여럿이 제멋대로 말함"},
      {word:"지피지기", meaning:"적을 알고 나를 알면 백 번 싸워도 위태롭지 않음"},
      {word:"진퇴양난", meaning:"앞으로도 뒤로도 곤란함"},
      {word:"천신만고", meaning:"모든 어려움을 겪음"},
      {word:"천양지차", meaning:"하늘과 땅만큼 큰 차이"},
      {word:"천재일우", meaning:"천년에 한 번 만날 기회"},
      {word:"타산지석", meaning:"남의 하찮은 언행도 자신의 지혜로 삼음"},
      {word:"허장성세", meaning:"허세를 부림"},
      {word:"호의호식", meaning:"편하게 잘 먹고 즐기며 삶"},
      {word:"혼비백산", meaning:"몹시 놀라 혼비백산함"},
      {word:"화룡점정", meaning:"중요한 부분을 마무리함"},
      {word:"후안무치", meaning:"부끄러움을 모름"},
      {word:"흥망성쇠", meaning:"성하고 망함이 반복됨"}
    ];

    let 현재문제 = 0;
    let 점수 = 0;
    let 틀린문제목록 = [];
    let 문제셋 = 사자성어목록; // 퀴즈용 문제 배열

    const questionEl = document.getElementById("question");
    const resultEl = document.getElementById("result");
    const nextBtn = document.getElementById("nextBtn");
    const retryBtn = document.getElementById("retryBtn");
    const wrongListEl = document.getElementById("wrongList");

    const btns = [
      document.getElementById("btn1"),
      document.getElementById("btn2"),
      document.getElementById("btn3"),
      document.getElementById("btn4")
    ];

    function shuffle(array){ return array.sort(() => Math.random() - 0.5); }

    function showQuestion(){
      resultEl.textContent = "";
      if(현재문제 >= 문제셋.length){
        questionEl.textContent = `퀴즈 종료! 점수: ${점수} / ${문제셋.length}`;
        btns.forEach(b => b.style.display="none");
        nextBtn.style.display="none";
        return;
      }

      const q = 문제셋[현재문제];
      questionEl.textContent = q.word;

      let choices = [q.meaning];
      while(choices.length < 4){
        let rand = 사자성어목록[Math.floor(Math.random()*사자성어목록.length)].meaning;
        if(!choices.includes(rand)) choices.push(rand);
      }
      choices = shuffle(choices);

      btns.forEach((b,i)=>{
        b.textContent = choices[i];
        b.style.display="inline-block";
        b.disabled = false;
        b.onclick = () => {
          if(choices[i] === q.meaning){
            resultEl.textContent="정답! ✅";
            점수++;
          } else {
            resultEl.textContent="오답 ❌";
            틀린문제목록.push({word:q.word, meaning:q.meaning});
            updateWrongList();
          }
          btns.forEach(x=>x.disabled=true);
        }
      });
    }

    function updateWrongList(){
      wrongListEl.innerHTML = "";
      틀린문제목록.forEach(q => {
        const li = document.createElement("li");
        li.textContent = `${q.word} → ${q.meaning}`;
        wrongListEl.appendChild(li);
      });
    }

    nextBtn.onclick = ()=>{
      현재문제++;
      showQuestion();
    }

    retryBtn.onclick = ()=>{
      if(틀린문제목록.length===0){
        alert("틀린 문제가 없습니다!");
        return;
      }
      문제셋 = [...틀린문제목록];
      틀린문제목록 = [];
      updateWrongList();
      현재문제 = 0;
      점수 = 0;
      btns.forEach(b=>b.style.display="inline-block");
      nextBtn.style.display="inline-block";
      showQuestion();
    }

    showQuestion();
  </script>
</body>
</html>
